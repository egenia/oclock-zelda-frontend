{"ast":null,"code":"import APIUrl from \"../APIUrl\";\nimport axios from \"axios\";\nexport var ADD_USER = \"ADD_USER\";\nexport var GET_USERS = \"GET_USERS\";\nexport function addUserAction(user) {\n  return {\n    type: ADD_USER,\n    user: user\n  };\n}\n;\nexport function getUsersAction(users) {\n  return {\n    type: GET_USERS,\n    users: users\n  };\n}\n;\nexport var addUser = function addUser(user, cbk) {\n  return function (dispatch) {\n    return axios.post(APIUrl.addUser, user).then(function (response) {\n      if (response && response.data) {\n        var result = response.data.message.user;\n        dispatch(addUserAction([result]));\n        if (cbk) cbk(result);\n      } else {\n        if (cbk) cbk();\n      }\n    }).catch(function (err) {\n      throw err;\n    });\n  };\n};\nexport var getTopUsers = function getTopUsers(top, cbk) {\n  return function (dispatch) {\n    return axios.get(APIUrl.getTopUsers + top).then(function (response) {\n      if (response && response.data) {\n        var users = response.data.message.users;\n        dispatch(getUsersAction(users));\n        if (cbk) cbk(users);\n      } else {\n        if (cbk) cbk();\n      }\n    }).catch(function (err) {\n      throw err;\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Utilisateur\\Downloads\\zelda\\zelda-fe\\src\\actions\\users\\users.js"],"names":["APIUrl","axios","ADD_USER","GET_USERS","addUserAction","user","type","getUsersAction","users","addUser","cbk","dispatch","post","then","response","data","result","message","catch","err","getTopUsers","top","get"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,SAAS,GAAG,WAAlB;AAEP,OAAO,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAAE,SAAO;AAAEC,IAAAA,IAAI,EAAEJ,QAAR;AAAkBG,IAAAA,IAAI,EAAJA;AAAlB,GAAP;AAAiC;AAAA;AACvE,OAAO,SAASE,cAAT,CAAwBC,KAAxB,EAA+B;AAAE,SAAO;AAAEF,IAAAA,IAAI,EAAEH,SAAR;AAAmBK,IAAAA,KAAK,EAALA;AAAnB,GAAP;AAAmC;AAAA;AAE3E,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAUJ,IAAV,EAAgBK,GAAhB,EAAqB;AACxC,SAAO,UAAUC,QAAV,EAAoB;AACvB,WAAOV,KAAK,CAACW,IAAN,CAAWZ,MAAM,CAACS,OAAlB,EAA2BJ,IAA3B,EACFQ,IADE,CACG,UAAUC,QAAV,EAAoB;AAEtB,UAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAzB,EAA8B;AAC1B,YAAMC,MAAM,GAAGF,QAAQ,CAACC,IAAT,CAAcE,OAAd,CAAsBZ,IAArC;AACAM,QAAAA,QAAQ,CAACP,aAAa,CAAC,CAACY,MAAD,CAAD,CAAd,CAAR;AAEA,YAAIN,GAAJ,EAASA,GAAG,CAACM,MAAD,CAAH;AACZ,OALD,MAKO;AACH,YAAIN,GAAJ,EAASA,GAAG;AACf;AACJ,KAXE,EAYFQ,KAZE,CAYI,UAAUC,GAAV,EAAe;AAClB,YAAMA,GAAN;AACH,KAdE,CAAP;AAeH,GAhBD;AAiBH,CAlBM;AAoBP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAUC,GAAV,EAAeX,GAAf,EAAoB;AAC3C,SAAO,UAAUC,QAAV,EAAoB;AACvB,WAAOV,KAAK,CAACqB,GAAN,CAAUtB,MAAM,CAACoB,WAAP,GAAqBC,GAA/B,EACFR,IADE,CACG,UAAUC,QAAV,EAAoB;AAEtB,UAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAzB,EAA8B;AAC1B,YAAMP,KAAK,GAAGM,QAAQ,CAACC,IAAT,CAAcE,OAAd,CAAsBT,KAApC;AACAG,QAAAA,QAAQ,CAACJ,cAAc,CAACC,KAAD,CAAf,CAAR;AAEA,YAAIE,GAAJ,EAASA,GAAG,CAACF,KAAD,CAAH;AACZ,OALD,MAKO;AACH,YAAIE,GAAJ,EAASA,GAAG;AACf;AACJ,KAXE,EAYFQ,KAZE,CAYI,UAAUC,GAAV,EAAe;AAClB,YAAMA,GAAN;AACH,KAdE,CAAP;AAeH,GAhBD;AAiBH,CAlBM","sourcesContent":["import APIUrl from \"../APIUrl\";\r\nimport axios from \"axios\";\r\n\r\nexport const ADD_USER = \"ADD_USER\";\r\nexport const GET_USERS = \"GET_USERS\";\r\n\r\nexport function addUserAction(user) { return { type: ADD_USER, user } };\r\nexport function getUsersAction(users) { return { type: GET_USERS, users } };\r\n\r\nexport const addUser = function (user, cbk) {\r\n    return function (dispatch) {\r\n        return axios.post(APIUrl.addUser, user)\r\n            .then(function (response) {\r\n\r\n                if (response && response.data){\r\n                    const result = response.data.message.user;\r\n                    dispatch(addUserAction([result]));\r\n\r\n                    if (cbk) cbk(result);\r\n                } else {\r\n                    if (cbk) cbk();\r\n                }\r\n            })\r\n            .catch(function (err) {\r\n                throw err;\r\n            });\r\n    };\r\n};\r\n\r\nexport const getTopUsers = function (top, cbk) {\r\n    return function (dispatch) {\r\n        return axios.get(APIUrl.getTopUsers + top)\r\n            .then(function (response) {\r\n\r\n                if (response && response.data){\r\n                    const users = response.data.message.users;\r\n                    dispatch(getUsersAction(users));\r\n\r\n                    if (cbk) cbk(users);\r\n                } else {\r\n                    if (cbk) cbk();\r\n                }\r\n            })\r\n            .catch(function (err) {\r\n                throw err;\r\n            });\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}